<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Meditations]]></title>
  <link href="http://cuzzo.github.io/atom.xml" rel="self"/>
  <link href="http://cuzzo.github.io/"/>
  <updated>2014-09-19T00:37:57-07:00</updated>
  <id>http://cuzzo.github.io/</id>
  <author>
    <name><![CDATA[Cuzzo]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    
    <title type="html"><![CDATA[Dr. React: How I Learned to Stop Templating, and Love the Component]]></title>
    <link href="http://cuzzo.github.io/blog/2014/09/18/dr-react-how-i-learned-to-stop-templating/"/>
    
    <updated>2014-09-18T00:42:39-07:00</updated>
    <id>http://cuzzo.github.io/blog/2014/09/18/dr-react-how-i-learned-to-stop-templating</id>
    
    <content type="html"><![CDATA[<p>The problem with React&ndash;or at least showing off its good side&ndash;is&hellip; what it solves isn&rsquo;t obvious. It reminds me of Docker in that way. If you&rsquo;re unfamiliar with Docker, it&rsquo;s too slick to one-line, but the gist is this: it&rsquo;s a container for your system configuration. Think Python/Ruby Virtual Environments, but for your config. And in the same way, if you spent much time with Virtual Environments, you know how you&rsquo;d never go back to the Dark Days before. Docker is like that, like the Renaissance, but for your config. Once you Dock, you just can&rsquo;t stop.</p>

<p>See, Docker has this succinct, obvious anology that makes conveying its benefits easy. Plus there&rsquo;s that Pringles thing&hellip; React doesn&rsquo;t have either.</p>

<p>The problem with React is, we&rsquo;ve learned to love MVC, and React is something different. We&rsquo;ve become so accustomed to MVC, and now Facebook comes around with this <em>other</em> thing, and how can we <em>not</em> be skeptical?</p>

<p>The problem with React is, it doesn&rsquo;t have templates. And templates are awesome! If React doesn&rsquo;t have templates then -1 points to House Facebook, right?</p>

<p>The problem with React is, since it doesn&rsquo;t have templates, you cram some pseudo-HTML into your JavaScript, and then it&rsquo;s like bad PHP all over again. And what&rsquo;s worse than bad PHP? Nothing.</p>

<p>The problem with React is, since there&rsquo;s this pseudo-HTML in your &ldquo;view&rdquo;, you get the negatives of Coffee Script in that your &ldquo;views&rdquo; need to be compiled to JavaScript before they&rsquo;re executable in the browser. If all React is, mainly, is a different take on a views, how isn&rsquo;t it just a shitty view?</p>

<p>Well, what if all React&rsquo;s &ldquo;problems&rdquo;, aren&rsquo;t actually problems? What if it just seems like React has problems, but realy&hellip; it&rsquo;s just solving the problems you already have?</p>

<p>React does just that and more. Here&rsquo;s <strong>TL;DR</strong>:</p>

<ul>
<li><a href="#react-is-fast">React Is Fast</a></li>
<li><a href="#components-fix-templates">React Components Fix Templates</a></li>
</ul>


<h2><a name="react-is-fast">React Is Fast</a></h2>

<p>There&rsquo;s a lot of reasons why React rocks, but the prime one, probably the only reason you&rsquo;re interested in React, is that it&rsquo;s really, really fast.</p>

<p>An infinite pile of articles explain, in detail, how React is so fast, and why nothing else really has a chance to compete with it. How React gets its speed comes down mostly to this: manipulating the DOM is probably the most expensive thing you do in JavaScript. React uses an O(1) DIFF algorithm to never manipulate the DOM unless it needs to, and to manipulate it only in the smallest possible way, to cause the least amount of computation possible. Nothing else does this. Nothing else can.</p>

<p>See, whenever you do a <code>render()</code> on a view/element in Backbone <em>usually</em> you cause this expensive thing called a <a href="https://developer.mozilla.org/en-US/docs/Notes_on_HTML_Reflow">reflow</a> to occur, and always you trigger a non-dismissable <code>repaint</code>. If you code in pure black-magic, you can get around this in Angular or Backbone or any framework really, but the point is, you need to constantly be thinking about it, instead of, oh, I don&rsquo;t know, your actual application&hellip; Whereas with React, you don&rsquo;t. And the point is, even if you think you&rsquo;re doing it right, you&rsquo;re still probably not. And, the better thing is, if you&rsquo;re not thinking about <code>reflow</code>s at all, you&rsquo;ve got more time to think about your application. Remember&hellip; It&rsquo;s the application, Stupid!</p>

<p>If you think of it at the simple level, this whole DIFFing business seems like overkill, right? It seems like Facebook invented the 747 because they needed to get over a centimeter wide crack. If I need to change the text in the username paragraph element when the user logs in, why not just do it? Like Nike. Easy-peazy, lemon squeezy, right? Not exactly. We realized doing all these things manually wasn&rsquo;t feasable a <em>long</em> time ago. But let&rsquo;s play devil&rsquo;s advocate and think: &ldquo;You know&hellip; what&rsquo;s the big deal just removing that element, and replacing it with a new one, like in Backbone?&rdquo; Because in terms of performance, that actually is a big deal, even for one element, but, overall, point taken. It seems like DIFFing the entire DOM is a little complex for this.</p>

<p>So why did Facebook create this crazy React thing then? Okay, bear with me. Pretend you have a list of&hellip; I don&rsquo;t know&hellip; Tweets, or in Facebook&rsquo;s case, Fweets, or whatever&hellip; There&rsquo;s hundreds of them, whatever they are, on the page, right? With Backbone, Angular, or anything else, whenever you change one of those, you usually just re-render this <em>entire</em> fat-ass list. It&rsquo;s really common. It&rsquo;s like the most common thing you do when using Backbone. It&rsquo;s like Backbone 101, and it&rsquo;s inefficient. Impressively, unbearably inefficient. React figures out that the only change in the entire list of Fweets was this &ldquo;OMG IMPORTANT UPDATE&rdquo; adding one new emoji to Jessie Smith&rsquo;s fifteenth selfie this minute.</p>

<p>React sees that just the one paragraph element changed, and it <em>only</em> changes that. The effects of this can and do frequently have <em>huge</em> perfermance benefits.</p>

<h2><a name="components-fix-templates">React Components Fix Templates</a></h2>

<p>So React is fast? But performance isn&rsquo;t everything, is it? As developers, we constantly make decisions whether to do something for efficiency, maintainability, or readability. There&rsquo;s options, and we choose what makes the most sense.</p>

<p>And React&rsquo;s &ldquo;templates&rdquo; are ugly. So ugly. They look like this:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
</pre></td><td class='code'><pre><code class='javascript'><span class='line'><span class="nx">App</span> <span class="o">=</span> <span class="nx">React</span><span class="p">.</span><span class="nx">createClass</span><span class="p">({</span>
</span><span class='line'>
</span><span class='line'>  <span class="nx">getInitialState</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
</span><span class='line'>    <span class="k">return</span> <span class="nx">getTodoState</span><span class="p">();</span>
</span><span class='line'>  <span class="p">},</span>
</span><span class='line'>
</span><span class='line'>  <span class="nx">componentDidMount</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
</span><span class='line'>    <span class="nx">TodoStore</span><span class="p">.</span><span class="nx">addChangeListener</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">_onChange</span><span class="p">);</span>
</span><span class='line'>  <span class="p">},</span>
</span><span class='line'>
</span><span class='line'>  <span class="nx">componentWillUnmount</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
</span><span class='line'>    <span class="nx">TodoStore</span><span class="p">.</span><span class="nx">removeChangeListener</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">_onChange</span><span class="p">);</span>
</span><span class='line'>  <span class="p">},</span>
</span><span class='line'>
</span><span class='line'>  <span class="cm">/**</span>
</span><span class='line'><span class="cm">   * @return {object}</span>
</span><span class='line'><span class="cm">   */</span>
</span><span class='line'>  <span class="nx">render</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
</span><span class='line'>    <span class="k">return</span> <span class="p">(</span>
</span><span class='line'>      <span class="o">&lt;</span><span class="nx">div</span><span class="o">&gt;</span>
</span><span class='line'>        <span class="o">&lt;</span><span class="nx">Header</span> <span class="o">/&gt;</span>
</span><span class='line'>        <span class="o">&lt;</span><span class="nx">MainSection</span>
</span><span class='line'>          <span class="nx">allTodos</span><span class="o">=</span><span class="p">{</span><span class="k">this</span><span class="p">.</span><span class="nx">state</span><span class="p">.</span><span class="nx">allTodos</span><span class="p">}</span>
</span><span class='line'>          <span class="nx">areAllComplete</span><span class="o">=</span><span class="p">{</span><span class="k">this</span><span class="p">.</span><span class="nx">state</span><span class="p">.</span><span class="nx">areAllComplete</span><span class="p">}</span>
</span><span class='line'>        <span class="o">/&gt;</span>
</span><span class='line'>        <span class="o">&lt;</span><span class="nx">Footer</span> <span class="nx">allTodos</span><span class="o">=</span><span class="p">{</span><span class="k">this</span><span class="p">.</span><span class="nx">state</span><span class="p">.</span><span class="nx">allTodos</span><span class="p">}</span> <span class="o">/&gt;</span>
</span><span class='line'>      <span class="o">&lt;</span><span class="err">/div&gt;</span>
</span><span class='line'>    <span class="p">);</span>
</span><span class='line'>  <span class="p">},</span>
</span><span class='line'>
</span><span class='line'>  <span class="nx">_onChange</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
</span><span class='line'>    <span class="k">this</span><span class="p">.</span><span class="nx">setState</span><span class="p">(</span><span class="nx">getTodoState</span><span class="p">());</span>
</span><span class='line'>  <span class="p">}</span>
</span><span class='line'>
</span><span class='line'><span class="p">});</span>
</span></code></pre></td></tr></table></div></figure>


<p>That looks awful! At first&hellip; If you look at the <code>render()</code> function, that&rsquo;s roughly equivalent to what you see in most templates. That JSX-style markup is apples to oranges with something like Jade or HAML or Handlebars or whatever. Personally, I don&rsquo;t care for it. But, honestly, it&rsquo;s beside the point. The point is, there&rsquo;s this vague idea of a template, and React more or less has it, and it works exactly as you expect.</p>

<p>You might notice those multi-line HTML elements and think they look bizare, but Facebook is just <a href="http://cuzzo.github.io/blog/2014/08/29/80-characters-is-enough/">obeying the 80-character line limit</a> here. No, in the <code>render()</code> function, there&rsquo;s really nothing strange. The real difference is that the &ldquo;template&rdquo; is wrapped inside a function, in an object, in a JavaScript file.</p>

<p>That sounds terrible! At first&hellip; But if you think of it from an Object Oriented perspective, this organization makes sense. <a href="http://cuzzo.github.io/blog/2014/09/16/and-then-there-werent-templates/" title="Template's don't make sense">Templates don&rsquo;t</a>. And, if you really want to separate the markup, you easily can with a pretty trivial preprocessor. I was originally going to do that, because of all the backlash I hear about JSX/inline-HTML. But, you know what? The more I use React, the more it seems <em>bad</em> to separate markup from its events. There&rsquo;s an inherent coupling between the two. So why separate it? Just for the sake of it?</p>

<p>You&rsquo;re probably running through templates in your head, thousand-line long files streaming through your brain, and imagining all that in a component. Stop that nightmare now. That&rsquo;s how templates work. It&rsquo;s not how components work. This alone is proof how impractical the view/template pattern is. Do those hundreds of lines of markup really correspond to anything meaningful? Or was it just arbitrarilly split at some indeterminate length because some portion was reusable in some other place? That kind of segmentation probably doesn&rsquo;t lead to the world&rsquo;s best designed app&hellip;</p>

<p>And what React has, and is built around, is a great way to design your app. It has state and data-bindings to automatically update the DOM. It&rsquo;s got the best testing utilities I&rsquo;ve used in a front-end framework. There&rsquo;s tons of things I love about React, but all you really need to know is that it&rsquo;s faster than everything else. Just give it a try. Once you get through a few components, you&rsquo;ll never want to &ldquo;template&rdquo; again. By the time you get to testing, you&rsquo;ll be scratching your head, and thinking, &ldquo;I know there&rsquo;s not that Pringles thing, but what about&hellip; Once you go React, you never go back?&rdquo;</p>
]]></content>
    
  </entry>
  
  <entry>
    
    <title type="html"><![CDATA[And Then There Weren't Templates]]></title>
    <link href="http://cuzzo.github.io/blog/2014/09/16/and-then-there-werent-templates/"/>
    
    <updated>2014-09-16T23:41:41-07:00</updated>
    <id>http://cuzzo.github.io/blog/2014/09/16/and-then-there-werent-templates</id>
    
    <content type="html"><![CDATA[<p>Ever bought that one outfit, that it looked so good, you wore it straight through the first three days post-purchase? You looked so good on Friday, you wore it on Saturday, and by the time Sunday rolled around, you were making plans based on who hadn&rsquo;t seen your outfit yet, rather than who you wanted to see. Remember that outfit?</p>

<p>That&rsquo;s MVC.</p>

<p>Remember how aweful web development was before MVC? And then Models, Views, and Controllers swooped in like Batman and cleaned up our Spaghetti Gotham codebases. It was awesome. So awesome, in fact, that we never really stopped to think: does this actually make any sense? Because I distinctively remember scratching my chin when I got to the part about templates and saying, &ldquo;is there a silent T in here somewhere?&rdquo; It didn&rsquo;t make sesnse. So you went back to the part about views and all it said was: &ldquo;Weeeeeeeell, it&rsquo;s not <em>really</em> a page, but just think of it as one.&rdquo; Remember how that didn&rsquo;t make sense? The whole V business seemed fishy. And is it any coincidence that villain starts with V? No. But that villainous side of views didn&rsquo;t become obvious until recently.</p>

<p>And it was just like your shiny, new outfit. It wasn&rsquo;t until years later, when you looked back through your Facebook pictures with fingers crossed, thinking, &ldquo;Please don&rsquo;t have on the technicolored windbreaker, the aviators, and the Loudmouths. Please&hellip;&rdquo; that it hit you: your outfit was stupid. <strong>YOU</strong> were stupid.</p>

<p>Which is just like now, when you&rsquo;re navigating a new codebase and saying, &ldquo;Please don&rsquo;t have meaningless, shitty views and templates. Please don&rsquo;t.&rdquo; But it always does. It never fails. Yet somehow we never piece it together, that maybe&hellip; just maybe&hellip; the system is flawed.</p>

<p>And the reason why, is because, does anybody actually know what a view is in the first place? Because, whenever they were giving out straight answers, I wasn&rsquo;t there. &ldquo;It&rsquo;s not really a page, but like it totally is - The MVC Handbook&rdquo; Sure. Cause that makes sense. But even if it is a page&hellip; that brings me to the question: in the age of single-page apps, what&rsquo;s a page?</p>

<p>We still have indexes and details and update pages and so on. But in the sidebar, there&rsquo;s all kind of things going on. There&rsquo;s modals (God, are there modals). There&rsquo;s stuff in the footer. You can log in from the header. You can post selfies right to your Facebook from the header! And you can even look at your dumb-ass technicolored windbreaker in the footer if you want to. But you don&rsquo;t want to.</p>

<p>There&rsquo;s an infinite possibility of &ldquo;pages&rdquo; you could be on, on any one &ldquo;page&rdquo;. So why do we still have &ldquo;views&rdquo; when our &ldquo;pages&rdquo; are mostly a collection of mini-views now?</p>

<p>And what about our friend Silent T, the template? He can lay low and render a single list item, or do it big and render tho entire layout, or anything in between like the header or the user details, or whatever you feel like, really. And why can Silent T do all this? Because templates don&rsquo;t make any sense either.</p>

<h2>Why Do We Have Templates In the First Place?</h2>

<p>Remember the first time that special someone was coming to the crib? Your room was a wreck. Sweaty gym clothes piled up in the corner, empty Russian Standards littered the floor, and there was pizza sauce all over the ceiling. So what did you do? You threw everything you could into the bathroom, and covered up the ceiling with your favorite poster of Fight Club.</p>

<p>And did that really solve anything? No. When your date showed up, you realized you forgot about the macaroni and cheese by the door, and you&rsquo;d gotten so used to how bad your roommate&rsquo;s ankle braces smelled that you forgot to drop a Fabreeze Bomb. And of course, guess who went straight to the bathroom to tidy up?</p>

<p>And this is exactly how templates came to be. Somebody was going through some shitty PHP and said, &ldquo;You know&hellip; what would make this file look a lot better is if I put all this shitty HTML somewhere else.&rdquo;</p>

<p>And sure, all that &ldquo;cleaning&rdquo; made the bedroom look better, but the dorm room as a whole&hellip; it didn&rsquo;t improve. It was just a facade. And it couldn&rsquo;t even fake-out someone failing English 98.</p>

<p>So the fact that we had shittily organized HTML wasn&rsquo;t really fixed at all by just moving it somewhere else. We didn&rsquo;t address our shittily designed HTML, we just put it somewhere new.</p>

<h2>Why Do We Have Views?</h2>

<p>Templates preceeded MVC, right? So after our hero invented Silent T, after he took all his crap from one file and dumped it in another, the next logical thing to do was say, &ldquo;You know&hellip; what would make this file look a lot better is if I put all this shitty SQL somewhere else.&rdquo;</p>

<p>And slowly, that file became a Model, which was a halfway decent way to organize that part of the application. And once we had Models, we needed a good way to load them, and just like that&hellip; little baby Controller was born.</p>

<p>And so all that was left, was cramming all that shit together, and that, my friends, became known as the view. The V. The villain.</p>

<h2>So Templates Suck. What&rsquo;s Better?</h2>

<p>The data guys must be the smart guys. Because they looked at the controller and said, &ldquo;You know&hellip; we probably should have DAOs and DTOs and maybe a DSL just to interact with the storage engines.&rdquo; Most MVCs were shipping with an ORM from the get-go.</p>

<p>Us front-end guys, we just kept smashing our face on the V key, and hoping that if we split our templates up enough, maybe we wouldn&rsquo;t keep ending up with spaghetti.</p>

<p>But that never happened. No matter what ingredients we put into the pot: quinoa, oyster, hummus&hellip; it was always the same. Spaghetti every time.</p>

<p>And why is this? Because templates and views don&rsquo;t correspond to anything meaningful in a single-page app. Pages are made up of mini-views, Components if you will.</p>

<p>Think like MVC. What are the views and templates for an autocompleter? Easy. 1 view: search(). 1 template: autocomplete.html.hbs. Oh, but what about JavaScript? There will be JavaScript&hellip; we also have: autocomplete.js.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
</pre></td><td class='code'><pre><code class='html'><span class='line'><span class="c">&lt;!-- autocomplete.html.hbs --&gt;</span>
</span><span class='line'><span class="nt">&lt;form&gt;</span>
</span><span class='line'>  <span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">&quot;text&quot;</span> <span class="nt">/&gt;</span>
</span><span class='line'>  <span class="nt">&lt;select&gt;</span>
</span><span class='line'>    <span class="c">&lt;!-- suggestions will go here --&gt;</span>
</span><span class='line'>  <span class="nt">&lt;/select&gt;</span>
</span><span class='line'>  <span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">&quot;submit&quot;</span> <span class="na">value=</span><span class="s">&quot;search&quot;</span> <span class="nt">/&gt;</span>
</span><span class='line'><span class="nt">&lt;/form&gt;</span>
</span></code></pre></td></tr></table></div></figure>




<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='javascript'><span class='line'><span class="c1">// autocomplete.js</span>
</span><span class='line'><span class="nx">$</span><span class="p">(</span><span class="s2">&quot;[type=\&quot;text\&quot;]&quot;</span><span class="p">).</span><span class="nx">keyPress</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">ev</span><span class="p">)</span> <span class="p">{</span> <span class="cm">/* ... */</span> <span class="p">});</span>
</span><span class='line'><span class="nx">$</span><span class="p">(</span><span class="s2">&quot;select&quot;</span><span class="p">).</span><span class="nx">change</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">ev</span><span class="p">)</span> <span class="p">{</span> <span class="cm">/* ... */</span> <span class="p">});</span>
</span><span class='line'><span class="nx">$</span><span class="p">(</span><span class="s2">&quot;form&quot;</span><span class="p">).</span><span class="nx">submit</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">ev</span><span class="p">)</span> <span class="p">{</span> <span class="cm">/* ... */</span> <span class="p">});</span>
</span></code></pre></td></tr></table></div></figure>




<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='python'><span class='line'><span class="c"># search.py</span>
</span><span class='line'><span class="k">def</span> <span class="nf">search</span><span class="p">():</span>
</span><span class='line'>    <span class="k">return</span> <span class="n">render</span><span class="p">(</span><span class="s">&quot;autocomplete.html.hbs&quot;</span><span class="p">)</span>
</span></code></pre></td></tr></table></div></figure>


<p>Let&rsquo;s think like an Object Oriented Programmer instead. We have a textfield with a lot of logic: when the user enters so much text, we want to run a query. We have a dropdown list of suggestions with a lot of logic: when the user updates the querystring, we want to filter out what&rsquo;s no good while we await our autocomplete ElasticSearch responses. And maybe each of these dropdown suggestions has a lot of logic: maybe they each show an image of some purchasable item, and maybe a link to that item, and to the manufacturer as well&hellip; Maybe you want all your suggestions to slowly turn into Nyan Cat. I don&rsquo;t know!</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
</pre></td><td class='code'><pre><code class='javascript'><span class='line'><span class="c1">// searchbar.jsx</span>
</span><span class='line'><span class="kd">var</span> <span class="nx">Searchbar</span> <span class="o">=</span> <span class="nx">React</span><span class="p">.</span><span class="nx">createClass</span><span class="p">({</span>
</span><span class='line'>  <span class="nx">on_key_press</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">ev</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>    <span class="c1">//</span>
</span><span class='line'>  <span class="p">},</span>
</span><span class='line'>
</span><span class='line'>  <span class="nx">render</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
</span><span class='line'>    <span class="k">return</span> <span class="p">(</span>
</span><span class='line'>      <span class="o">&lt;</span><span class="nx">input</span>
</span><span class='line'>          <span class="nx">type</span><span class="o">=</span><span class="s2">&quot;text&quot;</span>
</span><span class='line'>          <span class="nx">onKeyPress</span><span class="o">=</span><span class="p">{</span><span class="k">this</span><span class="p">.</span><span class="nx">on_key_press</span><span class="p">}</span> <span class="o">/&gt;</span>
</span><span class='line'>    <span class="p">);</span>
</span><span class='line'>  <span class="p">}</span>
</span><span class='line'><span class="p">});</span>
</span></code></pre></td></tr></table></div></figure>




<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
</pre></td><td class='code'><pre><code class='javascript'><span class='line'><span class="c1">// suggestion-list.jsx</span>
</span><span class='line'><span class="kd">var</span> <span class="nx">SuggestionList</span> <span class="o">=</span> <span class="nx">React</span><span class="p">.</span><span class="nx">createClass</span><span class="p">({</span>
</span><span class='line'>  <span class="nx">on_change</span><span class="o">:</span> <span class="nx">fundo</span> <span class="nx">we</span> <span class="nx">still</span> <span class="nx">have</span>
</span><span class='line'>  <span class="nx">render</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
</span><span class='line'>    <span class="k">return</span> <span class="p">(</span>
</span><span class='line'>      <span class="o">&lt;</span><span class="nx">select</span> <span class="nx">onChange</span><span class="o">=</span><span class="p">{</span><span class="k">this</span><span class="p">.</span><span class="nx">on_change</span><span class="p">}</span><span class="o">&gt;</span>
</span><span class='line'>        <span class="c">&lt;!--</span> <span class="nx">suggestions</span> <span class="nx">go</span> <span class="nx">here</span> <span class="o">--&gt;</span>
</span><span class='line'>      <span class="o">&lt;</span><span class="err">/select&gt;</span>
</span><span class='line'>    <span class="p">);</span>
</span><span class='line'>  <span class="p">}</span>
</span><span class='line'><span class="p">});</span>
</span></code></pre></td></tr></table></div></figure>




<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
</pre></td><td class='code'><pre><code class='javascript'><span class='line'><span class="c1">// suggestion.jsx</span>
</span><span class='line'><span class="kd">var</span> <span class="nx">Suggestion</span> <span class="o">=</span> <span class="nx">React</span><span class="p">.</span><span class="nx">createClass</span><span class="p">({</span>
</span><span class='line'>  <span class="nx">render</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
</span><span class='line'>    <span class="k">return</span> <span class="p">(</span>
</span><span class='line'>      <span class="o">&lt;</span><span class="nx">option</span> <span class="nx">value</span><span class="o">=</span><span class="p">{</span><span class="k">this</span><span class="p">.</span><span class="nx">props</span><span class="p">.</span><span class="nx">value</span><span class="p">}</span><span class="o">&gt;</span><span class="p">{</span><span class="k">this</span><span class="p">.</span><span class="nx">props</span><span class="p">.</span><span class="nx">text</span><span class="p">}</span><span class="o">&lt;</span><span class="err">/option&gt;</span>
</span><span class='line'>    <span class="p">);</span>
</span><span class='line'>  <span class="p">}</span>
</span><span class='line'><span class="p">});</span>
</span></code></pre></td></tr></table></div></figure>


<p>As you can see, before we had our markup separated from our code. But why? Because it looks better? Sure, if you want to keep doing that, fine. But, remember how cool that windbraker was at 17? This type of separation is the same way&hellip; it&rsquo;s separation for the sake of it. The unquestionable thing here is: it&rsquo;s better to think of HTML elements as objects. It&rsquo;s better to think in terms of components than in terms of views and templates. Why are we covering up pizza on the ceiling with posters of Fight Club? Why don&rsquo;t we actually clean up the mess, think of elements and the events attached to them, and come to the logical conclusion that it&rsquo;s all probably one object that belongs in one file?</p>

<p>Or are you going to wear Loudmouths to the grave?</p>
]]></content>
    
  </entry>
  
  <entry>
    
    <title type="html"><![CDATA[Logicless Templates: LOL]]></title>
    <link href="http://cuzzo.github.io/blog/2014/09/14/logicless-templates-lol/"/>
    
    <updated>2014-09-14T22:02:24-07:00</updated>
    <id>http://cuzzo.github.io/blog/2014/09/14/logicless-templates-lol</id>
    
    <content type="html"><![CDATA[<blockquote><p>Logicless: To be devoid of logic.</p>

<p><cite>Merriam-Webster&rsquo;s Dictionary</cite></p></blockquote>

<p>Babies are logicless, right? They eat and they shit. They throw toy blocks to and fro. They slap randomly at the Tower of Hanoi you bought them, not giving a damn about your shitty computer science references.</p>

<p>But logicless as they seem, they aren&rsquo;t really, are they? I mean, not even bogosort is. We just call babies logicless, as maybe some sort of harmless insult. &ldquo;Oh, Suzy, that baby of yours, he&rsquo;s just so&hellip; logicless.&rdquo; It almost sounds nice! The chic thing to say. The alternative, &ldquo;Hey, Suzy, that baby of yours, he&rsquo;s just such a&hellip; stupid bitch&hellip;&rdquo; that&rsquo;s probably gonna land you a swift smack from yours truly, Suzy.</p>

<p>And if you&rsquo;ve fallen for the promise of logicless templates, you probably deserve a swift smack as well. &ldquo;Logicless&rdquo; has a negative connotation. So it&rsquo;s no coincidence that logicless templates are severely flawed. They have their uses, sure. I use Handlebars in a few projects. But they belong nowhere near a large web application (most the time). Here&rsquo;s why:</p>

<ul>
<li><a href="#logicless-orly">Logicless? ORLY?</a></li>
<li><a href="#logic-is-unavoidable">Logic Is Unavoidable</a></li>
</ul>


<h2><a name="logicless-orly">Logicless? ORLY?</a></h2>

<p>First of all, let&rsquo;s just get one thing straight. The very idea of calling Handlebars and Moustache &ldquo;logicless&rdquo; is&hellip; well&hellip; logicless. Retarded even, if you prefer. We&rsquo;ve had logicless templates, long long before Handlebars was a thing. We called those templates HTML. And HTML worked fine, thank you very much. Handlebars, though, is not what the cool kids are calling HTML these days. No, it&rsquo;s a templating library, and it has logic. It has <code>if</code>s and <code>for</code>s and anybody who&rsquo;s anybody these days adds in pluralization helpers, i18n&hellip; The list goes on. But when it comes down to it, in most cases, logicless templates are just a bad, underpowered frameworks.</p>

<p>When I was 16 and Handlebars came onto the scene, I fell for that logicless bullcrap hook, line, and sinker. Naive, 16-year-old me ate that shit up. Separation of concerns? Yes please. That whole promise of having your designers be able to edit your markup without knowing code? That totally worked out. Cause checking in changes and navigating through codebases in general is oh so much easier than understanding trivial <code>if</code> clauses. Cause, you know, non-engineers are completely incompetent. And retard. (Except not really&hellip;)</p>

<p>No. Logicless templates don&rsquo;t even make sense. They have all kinds of logic. And you know what else they have all kind of? Broken, empty promises.</p>

<p>You remember that one about designers taking over the templates? Well, they changed things and wondered why the code didn&rsquo;t work if the h1 was an h2 (because we wrote shitty selectors), or how come the link stopped working when they changed an anchor to a div (because we care about semantics).</p>

<p>Plus they fucked up the commit log.</p>

<p>I&rsquo;ve talked to exactly zero people employed with the sole task of marking up HTML and merrily committing this with their magical suprise knowledge of Git&hellip; No, this person is a rumor. That designer that can magically commit changes, navigate the codebase, and knows HTML and CSS and logic&hellip; we have a special title for that type of designer: &ldquo;engineer&rdquo;.</p>

<p>There&rsquo;s an inherent coupling of semantics (markup) and events (code) in well designed applications. And separating it isn&rsquo;t always necessary, and is sometimes very, very wrong.</p>

<h2><a name="logic-is-unavoidable">Logic Is Unavoidable</a></h2>

<p>Wouldn&rsquo;t it be great if our apps didn&rsquo;t need logic? Wouldn&rsquo;t it be great if we could just smash our foreheads on the power button of our servers, and the paycheques would start flying through the cracks in the door, like Harry Potter&rsquo;s letters from Hogwarts?</p>

<p>Cause those are the servers I want. So too bad they don&rsquo;t exist.</p>

<p>Why? We need logic. Sometimes, we have logic we don&rsquo;t need. A lot of times, sometimes. But the fact remains: we need logic.</p>

<p>Logicless templates <em>at best</em> just shift this logic into some separate layer, the presentation layer, or&ndash;worse&ndash;to the view. Probably the only thing worse than bad templates is bad views.</p>

<p>Presentation layers help slim down your OMG-fat views. They&rsquo;re not a bad thing. But there&rsquo;s certain logic, render-logic, that belongs at the render level: pluralization and date-formating are prime examples.</p>

<p>It&rsquo;s possible to imagine a blog post with a <code>created_at</code> timestamp attached to it. It&rsquo;s possible to imagine you&rsquo;d display this in three separate places, in three different formats. What benefit do you get from hiding that in the presentation layer? Zilch.</p>

<p>And don&rsquo;t even get me started on pluralization&hellip; It usually only takes one time before you, a sane developer, has the thought cross your head, &ldquo;Weeeeeell, pluralization isn&rsquo;t <em>really</em> logic&hellip;&rdquo; And you go fishing through Github for a pluralization helper, trying to con yourself into believing that Handlebar Moustaches are still cool.</p>

<p>There&rsquo;s a very debatable line about which mutations should be done in the presentation layer and which at the render level. But the line that says &ldquo;none of this should happen at the render level&rdquo; &hellip; that line is imaginary, and hardly ever followed even when using &ldquo;logicless&rdquo; templates. The separation of concerns there, is a lot of times, just separation for the sake of it. It&rsquo;s just a big waste of time and bad design.</p>

<p>But I can see the headlines now: &ldquo;ALL YOUR LOGIC ARE BELONG TO TEMPLATES&rdquo;. I can see them already. It&rsquo;s not what I advocate. It&rsquo;s not what I say. But whatever.</p>
]]></content>
    
  </entry>
  
  <entry>
    
    <title type="html"><![CDATA[80 Characters Is Enough]]></title>
    <link href="http://cuzzo.github.io/blog/2014/08/29/80-characters-is-enough/"/>
    
    <updated>2014-08-29T10:44:33-07:00</updated>
    <id>http://cuzzo.github.io/blog/2014/08/29/80-characters-is-enough</id>
    
    <content type="html"><![CDATA[<p>It&rsquo;s human nature to break the rules. &ldquo;Rules are made to be broken,&rdquo; you must hear at least twice a day during all that time you&rsquo;re not using to floss your teeth. When the Lord God commanded Adam not to eat the fruit of the tree, all it took was one Talking Snake, and look where we are now, all these years later, and well you know what the doctor says about apples&hellip;</p>

<p>We&rsquo;re rule breakers. We break them for fun. We break them for profit. We speed to work. We let our kids eat cotton candy for breakfast. And so on.</p>

<p>But just because we break the rules, it doesn&rsquo;t make it acceptable. It doesn&rsquo;t make the rules dismissable. And it damn well doesn&rsquo;t make that orange skirt look good with the brown terracotta jacket and the purple 10 gallon hat.</p>

<p>And you know what else doesn&rsquo;t look good? Long lines of code.</p>

<p>And just because we push character after character unto our lines, until we&rsquo;ve past through to the hundreds, right into the thousands, and we&rsquo;re well on the way to chaining together the entire text of Great Gatsby all into a one-liner&hellip; That doesn&rsquo;t make it okay, or godly. No, unless you&rsquo;re some sadistic code-god determined to smote the open source community with inline lambdas&hellip;</p>

<p>Whether you&rsquo;re a habitual chainer or not, or whether your line limit is 81 or infinity, I&rsquo;m here to explain why you need to think about the standard of 80, and why it&rsquo;s there, and why it helps. And here&rsquo;s the <strong>TL;DR</strong>:</p>

<ul>
<li><a href="#line-count-means-nothing">Line Count Is Meaningless</a></li>
<li><a href="#a-line-means-something">A Line Has Meaning</a></li>
<li><a href="#because-duh">Because, Duh</a></li>
</ul>


<h2><a name="line-count-means-nothing">Line Count Is Meaningless</a></h2>

<p>There&rsquo;s this mistaken notion that &ldquo;short code&rdquo; is somehow better than &ldquo;long code&rdquo;, as if you can measure quality by how many lines of code something is, as if less lines of code means a faster process&ndash;or it somehow reduces complexity or increases maintainability. No, lines of code, in reality, means nothing. Nothing at all. When it comes to code, statements talk, and&hellip; well nothing else does. And if you jam thirty-seven statements onto one line or ten or you space them out across ten-million, it&rsquo;s still thirty-seven statements.</p>

<p>Thinking about line count is absurd. And the irony that it comes from people that know better is mind-boggling.</p>

<p>These lengthy lines of code frequently come from people that preach about slimming down our functions. We&rsquo;re all in agreement that fat functions are bad. So, all together now, let&rsquo;s take ONE second, un momento, and apply what we know about functions to lines of code.</p>

<p>We like smaller functions because the longer a function, intrinsically, the more frequently it is to change. And this is, in the scientific world, what we call a &ldquo;double whammy&rdquo;. Firstly, since the function is fat/long, any change to it is poorly isolated, and has too vast a depth. I.E., if you&rsquo;re an object, and the responsibilities for <code>shit()ing</code> and <code>faceWash()ing</code> are both housed in the same function, if you&rsquo;re not careful with a change to that function, you just might end up shitting on your face, and well, that&rsquo;s probably not what you had in mind, now is it? Secondly, we just said because it&rsquo;s long, changes to it will happen more frequently. The name of the game here is Not Shitting on Your Face, and, as engineers, we try to do that as much as possible. But, with long functions, we do this all the time, shooting ourselves in the foot, so to speak.</p>

<p>Anyway, let&rsquo;s apply what we know about functions to lines of code. Maybe we&rsquo;ll discover something</p>

<p>Any line with a lot going on is more likely to change than a line with not as much going on. And because a lot is going on, there&rsquo;s a higher likelyhood of someone submitting a pull-request to shit on your face, or break your code, or introduce a bug. And before you butt in with, &ldquo;but that&rsquo;s why we have tests&rdquo;, let me butt back with, &ldquo;do tell me about how you never have production bugs&rdquo;.</p>

<p>Long lines of code are just all around terrible, even more so than long functions, methinks.</p>

<h2><a name="a-line-means-something">A Line Has Meaning</a></h2>

<p>Let&rsquo;s keep applying what we know to be true about functions to lines of code, because, you know, we have a brain, and there&rsquo;s this thing I heard about once in a Kurt Vonnegut book called&hellip; common sense.</p>

<p>Remember the awful days of functions just being there? Remember how they used to just be repositories for things to happen, with no real meaning?</p>

<p>Yeah, it was awful.</p>

<p>But then, the White Knight swept us off our feet. It told us about Single Responsibility. It said, &ldquo;Yo homie, a function has meaning. It should do something. It should mean something. And that should only be one thing. Your functions oughta have a single responsibility.&rdquo;</p>

<p>And this was divine intervetion to our cesspits we called functions. After we applied it, code started to make sense. It started to be testable. It started to be readable. The smells went away. And rainbows started appearing.</p>

<p>But then, the rebels we are, we threw everything we learned out the window when we hopped all aboard the Lambda-Chain-Train headed straight to Hell. We started jamming ten statements (read ten responsibilities) onto a single line of code. We started making functions out of lines, and we got right back to where we started, with our functions (read lines) having multiple responsiblities, and what&rsquo;s really going on in there being a more carefully kept secret than the reveal of an Agatha Christie thriller-mystery.</p>

<p>Maybe it&rsquo;s the suspense driving people wild, or maybe it&rsquo;s the spirit of competition to see who can write the next longest line of code. Whatever it is, it&rsquo;s leading to the Fat2.0 revoluation. Because fat isn&rsquo;t how many lines a function is. It&rsquo;s how many statements it is. Just because you snuck six-hundred statements into two lines of code, that doesn&rsquo;t mean you can call it one function, not any less than you could call that tripple-god-object-in-a-single-function a function.</p>

<p>So let&rsquo;s stop the revulation right here. Let&rsquo;s stop bringing fat back. We&rsquo;re not Justin Timberlake.</p>

<h2><a name="because-duh">Because, Duh</a></h2>

<p>To wrap things up, I&rsquo;ll just state the obvious.</p>

<p>Have you ever written something like:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='javascript'><span class='line'><span class="kd">var</span> <span class="nx">x</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Person</span><span class="p">();</span>
</span><span class='line'><span class="nx">x</span><span class="p">.</span><span class="nx">setName</span><span class="p">(</span><span class="s2">&quot;Cuzzo&quot;</span><span class="p">);</span>
</span></code></pre></td></tr></table></div></figure>


<p>And thought, &ldquo;you know, that&rsquo;s too many lines for that. What would make that good is if I changed it to:&rdquo;</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='javascript'><span class='line'><span class="kd">var</span> <span class="nx">x</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Person</span><span class="p">();</span> <span class="nx">x</span><span class="p">.</span><span class="nx">setName</span><span class="p">(</span><span class="s2">&quot;Cuzzo&quot;</span><span class="p">);</span>
</span></code></pre></td></tr></table></div></figure>


<p>No.</p>

<p>Why? Because we&rsquo;ve been writing one statement per line since the beginning of computers. With chaining, we see the ability to take out the extra x, and we should. But keep it two separate lines, people. It&rsquo;s two responsibilities.</p>

<p>We might all have monitors long enough to watch six high-def Pornhubs at once. More than 80 characters can definitely fit on the screen. So why not use all that space? Because, one, it&rsquo;s a standard. And, two, if you&rsquo;re going over 80 characters, you&rsquo;ve probably done more than one thing wrong. You probably oughta make a function out ten-minute side-scrolling platform-adventure-game you call a line, so, you know, I don&rsquo;t have to beat Bowser just to know what your line is doing.</p>

<p>The next time you&rsquo;re in the middle of that epic chain, and you&rsquo;re trying to remember if you just <code>filter()ed</code> or <code>map()ed</code>, take a second to think about me, the dumbass, scratching my head all the way back at the beginning, ten high-levels ago, trying to remember what <code>foldRight()</code> does in the first place. Zeesh.</p>
]]></content>
    
  </entry>
  
  <entry>
    
    <title type="html"><![CDATA[Pretty Code Ugly]]></title>
    <link href="http://cuzzo.github.io/blog/2014/08/25/pretty-code-ugly/"/>
    
    <updated>2014-08-25T12:02:50-07:00</updated>
    <id>http://cuzzo.github.io/blog/2014/08/25/pretty-code-ugly</id>
    
    <content type="html"><![CDATA[<p>There comes a time in everyone&rsquo;s life when appearance becomes important. Usually, it&rsquo;s around the teenage years. For some it&rsquo;s earlier. But by high-school time, c&#8217;mon. What girl can resist the pretty red dress on display in Nordstrom when Prom is around the corner?</p>

<p>And so too comes the time in developers&#8217; lives when we become confident in our programmatic skills and start looking elsewhere to improve. In high school, we might splurge on a superfly jacket with a collar to pop up higher than Count Chocula. In nerd-world, we might stare at a LCD until our eyes go cross and we say something like, &ldquo;hmm&hellip; what this line could use is some whitespace.&rdquo;</p>

<p>And so begins that teenage phase in programming, and instead of brushing our hair and checking out our jaw-line in the mirror, we&rsquo;re smashing our face on the spacebar and pointing to our Github and yelling, &ldquo;MOM! LOOK HOW PRETTY MY CODE IS!&rdquo;</p>

<p>Some people pick up this habbit after they&rsquo;ve written enough for loops to write a permutation function while driving to work with their feet and explaining to Aunt Becky for the tenth time that, &ldquo;No, Aunt Becky, Chicago is not a continent.&rdquo; This type of Pretty Coder is made. Others are born into Pretty Code, learning it from the start, and these unfortuante souls, to me, correspond to the Toddler&rsquo;s in Tiaras of the programming world.</p>

<p>But whether you were born into Pretty Code, or you picked up moonlight typesetting as a hobby to kill time after how awesome your for-loop skills got, I&rsquo;m here to explain why, objectively, Pretty Code is bullshit. And here&rsquo;s the <strong>TL;DR</strong>:</p>

<ul>
<li><a href="#pretty-code-is-unreadable">Pretty Code ain&rsquo;t pretty</a>.</li>
<li><a href="#pretty-code-ruins-revision-history">Pretty Code makes (octo)cats cry</a>.</li>
<li><a href="#pretty-code-is-impractical">Pretty Code is a impractical</a>.</li>
</ul>


<h2><a name="pretty-code-is-unreadable">Pretty Code ain&rsquo;t pretty</a>.</h2>

<p>Let&rsquo;s first establish what Pretty Code is, and why it exists, because that&rsquo;s all that&rsquo;s needed to completely destroy its case. Let&rsquo;s use the least impractical case of Pretty Code first and look at two equal dictionaries:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
</pre></td><td class='code'><pre><code class='javascript'><span class='line'><span class="c1">// Ugly</span>
</span><span class='line'><span class="kd">var</span> <span class="nx">product_availability</span> <span class="o">=</span> <span class="p">{</span>
</span><span class='line'>  <span class="nx">name</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
</span><span class='line'>  <span class="nx">phone</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
</span><span class='line'>  <span class="nx">address</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
</span><span class='line'>  <span class="nx">n2n</span><span class="o">:</span> <span class="kc">false</span><span class="p">,</span>
</span><span class='line'>  <span class="nx">something</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
</span><span class='line'>  <span class="nx">x</span><span class="o">:</span> <span class="kc">false</span>
</span><span class='line'><span class="p">};</span>
</span></code></pre></td></tr></table></div></figure>




<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
</pre></td><td class='code'><pre><code class='javascript'><span class='line'><span class="c1">// Pretty</span>
</span><span class='line'><span class="kd">var</span> <span class="nx">product_availability</span> <span class="o">=</span> <span class="p">{</span>
</span><span class='line'>  <span class="nx">name</span><span class="o">:</span>      <span class="kc">true</span><span class="p">,</span>
</span><span class='line'>  <span class="nx">phone</span><span class="o">:</span>     <span class="kc">true</span><span class="p">,</span>
</span><span class='line'>  <span class="nx">address</span><span class="o">:</span>   <span class="kc">true</span><span class="p">,</span>
</span><span class='line'>  <span class="nx">n2n</span><span class="o">:</span>       <span class="kc">false</span><span class="p">,</span>
</span><span class='line'>  <span class="nx">something</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
</span><span class='line'>  <span class="nx">x</span><span class="o">:</span>         <span class="kc">false</span>
</span><span class='line'><span class="p">};</span>
</span></code></pre></td></tr></table></div></figure>


<p>As you can see above, one of these blocks is labeled <code>ugly</code> and the other <code>pretty</code>. Pretty Code, as shown above, is the &ldquo;art&rdquo; of lining up pieces of code with whitespace.</p>

<p>We can deduce that Pretty Code isn&rsquo;t done to speed up coding, right? Like how are you possibly adding in that whitespace faster than not adding it in? You&rsquo;re not. It&rsquo;s not faster to write code this way.</p>

<p>Your shiny, new i7 isn&rsquo;t looking at its fingernails and saying, &ldquo;You know, I was going to run this dictionary slow, but then I saw how pretty it is, so let me get back to work and start exuctin&#8217; like a G.&rdquo; Right? We know whitespace has no effect on performance.</p>

<p>So, the only reason I can see to Pretty Code is because it &ldquo;looks&rdquo; better. The key word here is &ldquo;looks&rdquo;.</p>

<p>&ldquo;Why do I care how code looks,&rdquo; might say the Pretty Code naysayer. And the advocate would say, &ldquo;because you read code more than you write it.&rdquo;</p>

<p>And the Pretty Code advocate is exactly right. And, in being so, completely destorys his case. <strong>We read code more than we write it</strong>. Far more. So it ought to be readable. Who said anything about &ldquo;lookable&rdquo;?</p>

<p>Have you ever written one line of code:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='javascript'><span class='line'><span class="kd">var</span> <span class="nx">x</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
</span></code></pre></td></tr></table></div></figure>


<p>And decided, &ldquo;you know what this line needs is&hellip; whitespace&hellip; lots of whitespace.&rdquo; and, with that thought in mind, refactored it to:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='javascript'><span class='line'><span class="kd">var</span> <span class="nx">x</span>     <span class="o">=</span>    <span class="mi">1</span><span class="p">;</span>
</span></code></pre></td></tr></table></div></figure>


<p>No.</p>

<p>Why? Because that line is less readable. It doesn&rsquo;t magically become more readable if the line below is:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='javascript'><span class='line'><span class="kd">var</span> <span class="nx">x</span>     <span class="o">=</span>    <span class="mi">1</span><span class="p">;</span>
</span><span class='line'><span class="kd">var</span> <span class="nx">pizza</span> <span class="o">=</span> <span class="mi">1001</span><span class="p">;</span>
</span></code></pre></td></tr></table></div></figure>


<p>Pretty Code looks better, yes. But looking at code isn&rsquo;t important. Reading it is.</p>

<p>You read code at the line level. You look at it at the multiline level.</p>

<h2><a name="pretty-code-ruins-revision-history">Pretty Code makes (octo)cats cry</a>.</h2>

<p>Okay, so you don&rsquo;t care how readable your code is. You just care that you can say, &ldquo;MOM! COME LOOK AT ALL MY WHITESPACE!&rdquo; Fine. You can write your own code however you want.</p>

<p>But, if you&rsquo;re in a team, and you probably are if you&rsquo;re a professional, and you theoretically are&ndash;at the very least&ndash;if you&rsquo;re part of the open source community&hellip; you should maybe consider revision history (and readability).</p>

<p>Let&rsquo;s say that Product comes back and they say, &ldquo;Dammit, Jimmy, we need a new key in that dictionary. The key is <code>virtual_phone_bank</code> and the value <code>Sign up and start saving babies RIGHT NOW!</code>. Chop, chop.&rdquo;</p>

<p>So, you open up <code>./src/config/locales/en.js</code> and you see:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class='javascript'><span class='line'><span class="kd">var</span> <span class="nx">CALL_TO_ACTION</span> <span class="o">=</span> <span class="p">{</span>
</span><span class='line'>  <span class="nx">disco</span>       <span class="o">:</span> <span class="s2">&quot;Help the president win by dancing RIGHT NOW!&quot;</span>       <span class="p">,</span>
</span><span class='line'>  <span class="nx">post_to_wall</span><span class="o">:</span> <span class="s2">&quot;Post on your Facebook how awesome we are RIGHT NOW!&quot;</span><span class="p">,</span>
</span><span class='line'>  <span class="nx">tweet</span>       <span class="o">:</span> <span class="s2">&quot;Post on your Twitter how awesome we are RIGHT NOW!&quot;</span>
</span><span class='line'><span class="p">};</span>
</span></code></pre></td></tr></table></div></figure>


<p>And you stop for a second to admire how beatiful it is, and then you press <code>i</code> and get to work. But quickly, you&rsquo;re stumpped:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
</pre></td><td class='code'><pre><code class='javascript'><span class='line'><span class="kd">var</span> <span class="nx">CALL_TO_ACTION</span> <span class="o">=</span> <span class="p">{</span>
</span><span class='line'>  <span class="nx">disco</span>       <span class="o">:</span> <span class="s2">&quot;Help the president win by dancing RIGHT NOW!&quot;</span>       <span class="p">,</span>
</span><span class='line'>  <span class="nx">post_to_wall</span><span class="o">:</span> <span class="s2">&quot;Post on your Facebook how awesome we are RIGHT NOW!&quot;</span><span class="p">,</span>
</span><span class='line'>  <span class="nx">tweet</span>       <span class="o">:</span> <span class="s2">&quot;Post on your Twitter how awesome we are RIGHT NOW!&quot;</span> <span class="p">,</span>
</span><span class='line'>  <span class="nx">virtual_phone_bank</span><span class="o">:</span> <span class="s2">&quot;Sign up and start saving babies RIGHT NOW!&quot;</span>
</span><span class='line'><span class="p">};</span>
</span></code></pre></td></tr></table></div></figure>


<p>&ldquo;Oh, no!&rdquo; you think, &ldquo;it&rsquo;s so ugly!&rdquo; and after your eyeballs are black and your nose is bluddy and you&rsquo;ve slammed your face on the spacebar a grand total of 18 times, you can go back to saying &ldquo;Mirror, Mirror, on the wall, who has the most whitespace of them all?&rdquo; And you&rsquo;ll know the answer is you, because your code now look like:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
</pre></td><td class='code'><pre><code class='javascript'><span class='line'><span class="kd">var</span> <span class="nx">CALL_TO_ACTION</span> <span class="o">=</span> <span class="p">{</span>
</span><span class='line'>  <span class="nx">disco</span>             <span class="o">:</span> <span class="s2">&quot;Help the president win by dancing RIGHT NOW!&quot;</span>       <span class="p">,</span>
</span><span class='line'>  <span class="nx">post_to_wall</span>      <span class="o">:</span> <span class="s2">&quot;Post on your Facebook how awesome we are RIGHT NOW!&quot;</span><span class="p">,</span>
</span><span class='line'>  <span class="nx">tweet</span>             <span class="o">:</span> <span class="s2">&quot;Post on your Twitter how awesome we are RIGHT NOW!&quot;</span> <span class="p">,</span>
</span><span class='line'>  <span class="nx">virtual_phone_bank</span><span class="o">:</span> <span class="s2">&quot;Sign up and start saving babies RIGHT NOW!&quot;</span>
</span><span class='line'><span class="p">};</span>
</span></code></pre></td></tr></table></div></figure>


<p>And, now that you&rsquo;ve worked your typesetting wonders, not only is there the problem that by the time my eyes get to &ldquo;Help the president&hellip;&rdquo; that they&rsquo;re so far removed from &ldquo;disco&rdquo; that I have to look back to remember what I&rsquo;m even assigning to what&hellip; but also, you&rsquo;ve just changed that line of code, and when Teddy from Product goes through to figure out who to fire for putting a joke line in the code, you&rsquo;re going to have to say, &ldquo;But I didn&rsquo;t even write that line! Swear! I just made it pretty is all!&rdquo;</p>

<p>Yes, modern tools make it easy to see the entire revision history of a line. But, yes, revision history is still important anyway. How code &ldquo;looks&rdquo; is not. How it reads is very important, and this does not read well. No, it does read well at all.</p>

<h2><a name="pretty-code-is-impractical">Pretty Code is impractical</a>.</h2>

<p>Finally, let&rsquo;s explore why pretty code isn&rsquo;t even practical in the first place. Because if you&rsquo;ve gotten this far, and you&rsquo;re still on board the Pretty Code Express, maybe this can totally derail you&rsquo;re world.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='javascript'><span class='line'><span class="nx">render</span><span class="p">(</span><span class="s2">&quot;/views/homepage/header&quot;</span><span class="p">,</span> <span class="p">{</span><span class="nx">title</span><span class="o">:</span> <span class="s2">&quot;Obama for America&quot;</span><span class="p">,</span> <span class="nx">subtitle</span><span class="o">:</span> <span class="s2">&quot;Yes We Can!&quot;</span><span class="p">},</span> <span class="p">{</span><span class="nx">layout</span><span class="o">:</span> <span class="kc">false</span><span class="p">})</span>
</span><span class='line'><span class="nx">render</span><span class="p">(</span><span class="s2">&quot;/views/homepage/hero&quot;</span><span class="p">,</span> <span class="p">{</span><span class="nx">img</span><span class="o">:</span> <span class="s2">&quot;/assets/heros/denver-rally.png&quot;</span><span class="p">,</span> <span class="nx">caption</span><span class="o">:</span> <span class="s2">&quot;A Better America Starts Today.&quot;</span><span class="p">},</span> <span class="p">{</span><span class="nx">layout</span><span class="o">:</span> <span class="kc">true</span><span class="p">})</span>
</span><span class='line'><span class="nx">render</span><span class="p">(</span><span class="s2">&quot;/views/footer&quot;</span><span class="p">,</span> <span class="p">{</span><span class="nx">links</span><span class="o">:</span> <span class="p">[{</span><span class="nx">title</span><span class="o">:</span> <span class="s2">&quot;about&quot;</span><span class="p">,</span> <span class="nx">url</span><span class="o">:</span> <span class="s2">&quot;/about&quot;</span><span class="p">},</span> <span class="p">{</span><span class="nx">title</span><span class="o">:</span> <span class="s2">&quot;privacy&quot;</span><span class="p">,</span> <span class="nx">url</span><span class="o">:</span> <span class="s2">&quot;/privacy&quot;</span><span class="p">}]},</span> <span class="p">{</span><span class="nx">layout</span><span class="o">:</span> <span class="kc">false</span><span class="p">})</span>
</span></code></pre></td></tr></table></div></figure>


<p>If you&rsquo;re not the type of Pretty Coder that lines up similar functions, thank Stroustrup. But let&rsquo;s assume you are, and let&rsquo;s assume you also don&rsquo;t care about character line limits, and all you care about is how your code &ldquo;looks&rdquo;.</p>

<p>You&rsquo;d end up with:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='javascript'><span class='line'><span class="nx">render</span><span class="p">(</span><span class="s2">&quot;/views/homepage/header&quot;</span><span class="p">,</span> <span class="p">{</span><span class="nx">title</span><span class="o">:</span> <span class="s2">&quot;Obama for America&quot;</span><span class="p">,</span> <span class="nx">subtitle</span><span class="o">:</span> <span class="s2">&quot;Yes We Can!&quot;</span><span class="p">}</span>                             <span class="p">,</span> <span class="p">{</span><span class="nx">layout</span><span class="o">:</span> <span class="kc">false</span><span class="p">})</span>
</span><span class='line'><span class="nx">render</span><span class="p">(</span><span class="s2">&quot;/views/homepage/hero&quot;</span>  <span class="p">,</span> <span class="p">{</span><span class="nx">img</span><span class="o">:</span> <span class="s2">&quot;/assets/heros/denver-rally.png&quot;</span><span class="p">,</span> <span class="nx">caption</span><span class="o">:</span> <span class="s2">&quot;A Better America Starts Today.&quot;</span><span class="p">},</span> <span class="p">{</span><span class="nx">layout</span><span class="o">:</span> <span class="kc">true</span><span class="p">})</span>
</span><span class='line'><span class="nx">render</span><span class="p">(</span><span class="s2">&quot;/views/footer&quot;</span>         <span class="p">,</span> <span class="p">{</span><span class="nx">links</span><span class="o">:</span> <span class="p">[{</span><span class="nx">title</span><span class="o">:</span> <span class="s2">&quot;about&quot;</span><span class="p">,</span> <span class="nx">url</span><span class="o">:</span> <span class="s2">&quot;/about&quot;</span><span class="p">},</span> <span class="p">{</span><span class="nx">title</span><span class="o">:</span> <span class="s2">&quot;privacy&quot;</span><span class="p">,</span> <span class="nx">url</span><span class="o">:</span> <span class="s2">&quot;/privacy&quot;</span><span class="p">}]}</span>   <span class="p">,</span> <span class="p">{</span><span class="nx">layout</span><span class="o">:</span> <span class="kc">false</span><span class="p">})</span>
</span></code></pre></td></tr></table></div></figure>


<p>Which, A) reading that now makes me want to cry, and B) writing that made me want to punch a baby. I mean, I <strong>literally</strong> have three black eyes and two broken noses and my spacebar key doesn&rsquo;t even work anymore. I had to remap it to &ldquo;CAPS LOCK&rdquo; becuase I already broke all the other ones pretty coding with my face so hard.</p>

<p>Anyway, back on topic&hellip; Imagine adding two more links to the <code>links</code> property in the third <code>render</code>:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='javascript'><span class='line'><span class="nx">render</span><span class="p">(</span><span class="s2">&quot;/views/homepage/header&quot;</span><span class="p">,</span> <span class="p">{</span><span class="nx">title</span><span class="o">:</span> <span class="s2">&quot;Obama for America&quot;</span><span class="p">,</span> <span class="nx">subtitle</span><span class="o">:</span> <span class="s2">&quot;Yes We Can!&quot;</span><span class="p">}</span>                                                                                               <span class="p">,</span> <span class="p">{</span><span class="nx">layout</span><span class="o">:</span> <span class="kc">false</span><span class="p">})</span>
</span><span class='line'><span class="nx">render</span><span class="p">(</span><span class="s2">&quot;/views/homepage/hero&quot;</span>  <span class="p">,</span> <span class="p">{</span><span class="nx">img</span><span class="o">:</span> <span class="s2">&quot;/assets/heros/denver-rally.png&quot;</span><span class="p">,</span> <span class="nx">caption</span><span class="o">:</span> <span class="s2">&quot;A Better America Starts Today.&quot;</span><span class="p">}</span>                                                                  <span class="p">,</span> <span class="p">{</span><span class="nx">layout</span><span class="o">:</span> <span class="kc">true</span><span class="p">})</span>
</span><span class='line'><span class="nx">render</span><span class="p">(</span><span class="s2">&quot;/views/footer&quot;</span>         <span class="p">,</span> <span class="p">{</span><span class="nx">links</span><span class="o">:</span> <span class="p">[{</span><span class="nx">title</span><span class="o">:</span> <span class="s2">&quot;about&quot;</span><span class="p">,</span> <span class="nx">url</span><span class="o">:</span> <span class="s2">&quot;/about&quot;</span><span class="p">},</span> <span class="p">{</span><span class="nx">title</span><span class="o">:</span> <span class="s2">&quot;privacy&quot;</span><span class="p">,</span> <span class="nx">url</span><span class="o">:</span> <span class="s2">&quot;/privacy&quot;</span><span class="p">},</span> <span class="p">{</span><span class="nx">title</span><span class="o">:</span> <span class="s2">&quot;terms&quot;</span><span class="p">,</span> <span class="nx">url</span><span class="o">:</span> <span class="s2">&quot;/terms&quot;</span><span class="p">},</span> <span class="p">{</span><span class="nx">title</span><span class="o">:</span> <span class="s2">&quot;jobs&quot;</span><span class="p">,</span> <span class="nx">url</span><span class="o">:</span> <span class="s2">&quot;/careers&quot;</span><span class="p">}]}</span>  <span class="p">,</span> <span class="p">{</span><span class="nx">layout</span><span class="o">:</span> <span class="kc">false</span><span class="p">})</span>
</span></code></pre></td></tr></table></div></figure>


<p>Not only can I not read a single line of that code, not only have you shitted on the revision history with gusto (twice now), but&ndash;also&ndash;it looks absurd! And that&rsquo;s what the whole point of Pretty Code is, making code look good.</p>

<p>The bottom line is, <strong>Pretty Code isn&rsquo;t practical</strong>. You can add all the whitespace you want to your dictionaries. But, please, no matter what a typesetter tells you, there is no unnecessary whitespace in the open source world.</p>

<p>So the next time you&rsquo;re bored out of your mind, and you&rsquo;ve got out your hair brush, and you&rsquo;re talking to your mirror, and you&rsquo;re about to Pretty Code&hellip; think about us, the ones reading your code. And, think about the spacebar, poor old Mr. Spacebar.</p>
]]></content>
    
  </entry>
  
</feed>